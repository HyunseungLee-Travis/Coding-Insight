# 파이썬에서 조금 더 복잡한 스레드 예시

이제 조금 더 복잡한 스레드 예시를 관찰하겠습니다.

```
import threading, time

def thread1():
  print("Hello")
  time.sleep(1)
  print("Done")
  time.sleep(0.9)
  print("Now It is Really Done!")

mainThread = threading.Thread(target=thread1)
mainThread.start()
print(threading.active_count())
time.sleep(0.95)
print("Finally")
```

위의 예시를 실행하면 다음과 같은 순서로 실행이 됩니다.

1. 첫 번째 스레드 (파일의 코드가 실행되는 곳)에서 mainThread를 만듭니다.
2. 다음에 thread1 함수를 실행합니다.
3. Hello를 출력하고 1초 기다립니다.
4. 코어에서 1초 시간이 있으니 바로 threading.active_count()를 실행합니다.
5. 다음에 첫 번째 스레드에 있는 time.sleep(1) 메서드를 실행합니다.
6. 다음에 "Finally"를 출력합니다. 그 이유는 0.95가 1보다 더 작기 때문입니다.
7. 첫 번째 스레드에 있는 코드를 다 실행했으니 이제 스레드 2에 있는 Done! 과 0.9초 기다리고 Now It is Really Done! 을 출력합니다.

# .join 메서드

asyncio에서 배웠듯이 await 키워드는 async 함수가 끝날 때까지 기다립니다.

비슷하게 스레드에서도. join() 메서드를 사용하면 스레드에 있는 코드가 끝날 때까지 기다립니다.

```
import threading, time

def thread1():
  print("Hello")
  time.sleep(1)
  print("Done")
  time.sleep(0.9)
  print("Now It is Really Done!")

mainThread = threading.Thread(target=thread1)
mainThread.start()
print(threading.active_count())

mainThread.join()

time.sleep(0.95)
print("Finally")
```

위의 코드는 5 스텝까지 같지만 mainThread.join() 메서드가 있어 Done! 과 Now It is Really Done! 이 먼저 출력이 되고 Finally! 가 출력이 됩니다.
