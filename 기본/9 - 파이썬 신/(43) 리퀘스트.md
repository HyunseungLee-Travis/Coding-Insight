# 리퀘스트란?
'물을 리퀘스트하다'라고 할때 리퀘스트는 '요구하다'를 의미합니다.

리퀘스트는 파이썬에서 웹에있는 정보를 가지고 오는 모듈의 이름입니다. 온라인상에서 원하는 데이터를 리퀘스트하는 것이 가능합니다. 예를 들어서 온라인에 올려진 유명한 사람의 생일 JSON 파일을 파이썬 프로그램에서 가지고 와서 사용할 수 있습니다.

# 간단한 리퀘스트하기
온라인에서 `https://api.github.com/events` 데이터를 요청하여 JSON 데이터를 변수 안에 저장하겠습니다.

```
import requests

a = requests.get('https://api.github.com/events')

print(a)
```

GET은 HTTP 메서드로 HTTP에 있는 데이터를 가지고 오는 방법 중 하나입니다.

# PARAMS
GMAIL에 로그인할 때 처음으로 뜨는 스크린의 URL은 다음과 같습니다.

```
https://accounts.google.com/signin/v2/identifier?continue=https%3A%2F%2Fmail.google.com%2Fmail%2F&service=mail&sacu=1&rip=1&flowName=GlifWebSignIn&flowEntry=ServiceLogin
```

accounts.google.com/signin/v2/indentifier? 링크에서 continue = https%3A%2F%2Fmail.google.com%2Fmail%2F, service = mail이고 sacu=1, ripe = 1, flowName = GlifWebSignIn, 그리고 flowEntry = ServiceLogin이 있습니다. 눈치가 빠르다면 리크 indentifier? 뒤에 있는 데이터가 다 딕셔너리로 표현이 될 수 있습니다.

```
import requests

a = requests.get("https://accounts.google.com/signin/v2/identifier?", params = {
  "continue": "https%3A%2F%2Fmail.google.com%2Fmail%2F",
  "service": "mail",
  "sacu": "1",
  "ripe": "1",
  "flowName": "GlifWebSignIn",
  "flowEntry": "ServiceLogin"
})
```

# 리스폰스
리퀘스트를 하여 돌아오는 값을 리스폰스라고 합니다.

리스폰스는 다양한 포멧이 있을 수 있습니다. JSON파일일 수 있고 HTML파일 일 수도 있습니다.

## TEXT
문자로 전환은 text 키를 이용하여 새로운 변수 안에 저장할 수 있습니다.

```
import requests

a = requests.get('https://api.github.com/events')
textified = a.text

print(textified)
```

## ENCODING
데이터를 가지고 오며 ASCII에 존재하지 않는 케릭터가 있어서 문제가 발생할 수 있습니다. `리스폰스.encoding`의 형태로 encoding의 값을 알 수 있고 지정하는 것이 가능합니다.

```
import requests

a = rerquests.get('htps://api.github.com/events')

print(a.encoding)
a.encoding = "UTF-8"
```

## JSON
전 예시같이 JSON 파일을 포멧하기 위하여 json() 메서드를 사용할 수 있습니다.

```
import requests

a = rerquests.get('htps://api.github.com/events')

print(a.json())
```

# 상태
데이터가 존재하지 않을 수도 있고 않할 수도 있습니다.

데이터의 상태는 status_code 키를 사용할 수 있습니다.

```
print(a.status_code)
```

200이 추력이된다면 성공했습니다.

모든 satus_code는 `https://www.restapitutorial.com/httpstatuscodes.html`에서 배울 수 있습니다.

쉽게 성공을 했는지만 확인하기 위하여 ok 키를 이용할 수 있습니다.

```
print(r.ok)
```

# 머리글
머리글이란 리퀘스트를 할때 어떤 리퀘스트인지 설명을 하는 데이터 이름입니다. 머리글은 영어로 header라고 하고 headres 매개변수 안에 딕셔너리로 나만의 머리글을 만드는 것이 가능합니다.

```
import requests

a = requests.get('htps://api.github.com/events', headers = {
  "title": "Fetch Github Data",
  "explanation": "Testing header...",
  "by": "Me"
})
```

# 데이터 지정 - POST
GET은 웹에서 가지고 온 데이터를 보는 메서드이고 POST는 바꾸는 메서드입니다.

```
import requests
payload = {'key1': 'value1', 'key2': 'value2'}

r = requests.post("https://httpbin.org/post", data=payload)
print(r.json())
```

위의 코드를 실행하면 form키 안에 저희가 넣은 딕셔너리가 보입니다. 또는 HTML파일에서도 data값을 지정하여 사용자 이름과 암호를 로그인할 수 있습니다. (이렇게 해서 해커들은 랜덤 이메일을 공격합니다.)

# AUTH
AUTH를 이용하면 로그인이 가능합니다.

```
import requests

r = requests.get('https://httpbin.org/basic-auth/hyunseung/testing', auth=("hyunseung", "12345abcdefg"))
```

Auth가 성공을 한다면 401이 status_code의 값이어야합니다.
